# Cricket Batting Biomechanics Analysis

This project uses MediaPipe Pose to perform a biomechanical analysis of a cricket batting shot. The Python notebook processes a video file to generate annotated videos, key performance metrics, and a visual report of the player's technique.

## üöÄ Getting Started

### Prerequisites

* **Python 3.x**
* **Google Account** (for accessing the Gemini API)

### Installation

1.  **Clone or Download** this repository.
2.  **Install the required libraries** using `pip`. It is recommended to use a virtual environment.

    ```bash
    pip install -r requirements.txt
    ```
    
    *Note: The `opencv-python-headless` package is used to avoid GUI dependencies and is suitable for most environments.*

### Setup

1.  **Obtain a Google Gemini API Key.** You will need a key to use the `google-genai` library for AI feedback.
2.  **Update the notebook.** Open the `Assignment.ipynb` notebook and set your API key in the `os.environ` line.
3.  **Place your video file** in the same directory as the notebook and update the `VIDEO_PATH` variable to its filename (e.g., `"input_video.mp4"`).

## üèÉ How to Run

1.  Open the notebook in **Google Colab**.
2.  Run all the cells in sequence. The notebook will automatically perform all analyses and save the output files.

## üìÅ Outputs

After running the notebook, the following files will be generated in the `output` directory:

* `annotated_video.mp4`: The original video with real-time biomechanical metrics (elbow angle, spine lean, head movement).
* `output_phase_seg.mp4`: A video that visually segments the batting shot into phases (e.g., Stance, Downswing) and plays key moments in slow motion.
* `bat_swing_analysis.mp4`: A video that approximates the bat's swing path and shows the swing angle.
* `metrics_log.json`: A JSON file containing raw, frame-by-frame data for all tracked metrics.
* `evaluation.json`: A JSON file with averaged metrics and AI-powered coaching feedback generated by the Gemini API.
* `biomechanics_report.png`: A line chart visualizing the player's elbow angle and spine lean over time.

## ‚ö†Ô∏è Assumptions & Limitations

* **Single Player:** The analysis is designed for a single player in the video.
* **Camera Angle:** The accuracy of the analysis depends heavily on the camera being positioned side-on to the player.
* **Heuristics:** Bat tracking and phase detection are based on simple rules and may not be perfect for every unique batting style.
* **No Ball Tracking:** The code does not detect or track the cricket ball.
